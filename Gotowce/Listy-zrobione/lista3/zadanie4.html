<html>
    <head>
        <style>
            td {width: 50px;height: 50px;border:1px solid black; text-align: center;font-weight: bold;font-size: 2em;}
            table {border-collapse: collapse}
        </style>
    </head>
    <body>
        <table>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
            <tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
        </table>
        <script>
            let komorka = document.querySelectorAll("td");
            let bomby = [];
            let ileKliknietych = 0;
            f();
            function f(){
                for(let i=0;i<10;i++){
                    let los = true;
                    while(los){
                        //let numer = Math.floor(Math.random()*100);
                        bomby[i] = Math.floor(Math.random()*100);
                        if(komorka[bomby[i]].className != "bomba") los = false;                      
                    }
                    komorka[bomby[i]].className = "bomba";
                    komorka[bomby[i]].onclick=()=>{
                        for(let j=0;j<10;j++)   // ustawia czerwone kolory
                            komorka[bomby[j]].style.backgroundColor="red";
                        for(let j=0;j<100;j++){     // nie mozna dalej klikać
                            komorka[j].onclick="";
                        }
                        alert("Niestety przegrałeś :(");            
                    };
                }
                for(let i=0;i<100;i++){
                    if(komorka[i].className != "bomba"){
                        komorka[i].onclick=()=>{
                            ileKliknietych++;
                            let ile = 0;
                            if(i>0 && i%10!=0) if(komorka[i - 1].className=="bomba") ile++;
                            if(i<99 && i%10!=9) if(komorka[i + 1].className=="bomba") ile++;
                            if(i>9 || i==90 || i==99) if(komorka[i - 10].className=="bomba") ile++;
                            if(i<90 || i==0 || i==9) if(komorka[i + 10].className=="bomba") ile++;
                            if(i>10){
                                if(komorka[i - 9].className=="bomba") ile++;
                                if(i%10!=0) if(komorka[i - 11].className=="bomba") ile++;
                            }
                            if(i<90){
                                if(komorka[i + 9].className=="bomba") ile++;
                                if(i%10!=9) if(komorka[i + 11].className=="bomba") ile++;
                            }
                            komorka[i].innerHTML=ile;
                            if(ileKliknietych == 90){
                                alert("Gratulacje wygrałeś!!!");
                            }
                        }
                    }
                }
            }
        </script>
    </body>
</html>